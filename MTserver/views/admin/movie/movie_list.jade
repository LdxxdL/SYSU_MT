extends ../../layout

block content
  h3.text-center 电影后台列表
  table.table.table-bordered
    thead
      tr
        th 名字
        th 类型
        th 评分
        th 日期
        th 介绍
        th 演员
        th 图片
        th 更新
        th 删除
    tbody
      if movies && movies.length > 0
        each movie in movies
          tr
            td #{movie.name}
            td #{movie.type}
            td #{movie.score}
            td #{movie.date}
            td #{movie.intro}
            td #{movie.actor}
            td #{movie.src}
            td 
              a.link(href="/admin/movie/update?id=#{movie.id}") 更新
            td
              a(data-id='#{movie.id}' class="removeMovie").btn.btn-danger 删除
      
      input(type='hidden' value='' id='selectId')
      
  a(href="/admin/movie/add").btn.btn-primary 添加

  //删除提示弹出框
  .modal(id='removeConfirm')
    .modal-dialog
      .modal-content
        .modal-header
          button(type="button" data-dismiss="modal").close
            span(aria-hidden="true") &times;
            span.sr-only Close
          h4.modal-title 删除提示
        
        .modal-body
          p(id='removeTips') 确定要删除该数据吗？
        
        .modal-footer
          button(type="button" data-dismiss="modal" id="cancelRemove").btn.btn-default 关闭
          button(type="button" id="removeSubmit").btn.btn-primary 确定
              
  
  //导入用户处理脚本
  script(src="/javascripts/movies.js")